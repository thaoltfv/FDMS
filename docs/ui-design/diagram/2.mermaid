flowchart TD
    Start([👤 User Creates Document]) --> SelectBP[📋 Select Blueprint<br/>• Search Templates<br/>• Recent/Popular<br/>• Permission Check<br/>• Mobile-Optimized List]
    
    SelectBP --> FormRender[📱 Dynamic Form Rendering<br/>• Ionic Components<br/>• Real-time Validation<br/>• Auto-save Progress<br/>• Touch-friendly Controls]
    
    FormRender --> FillForm[📝 Fill Form Fields]
    
    FillForm --> BasicFields[🔤 Basic Input Fields<br/>• Text/Number/Date<br/>• Native Keyboards<br/>• Validation Feedback<br/>• Progress Indicators]
    
    FillForm --> AdvancedFields[⚙️ Advanced Fields<br/>• Location with Maps<br/>• File Upload Camera<br/>• Object Array Modals<br/>• Autocomplete Search]
    
    BasicFields --> ValidationCheck{✅ Validation Pass?}
    AdvancedFields --> ValidationCheck
    
    ValidationCheck -->|❌ Errors| ShowErrors[⚠️ Show Validation Errors<br/>• Highlight Invalid Fields<br/>• Error Messages<br/>• Scroll to First Error<br/>• Haptic Feedback]
    ShowErrors --> FillForm
    
    ValidationCheck -->|✅ Valid| SaveOptions[💾 Save Options<br/>• Save as Draft<br/>• Submit for Review<br/>• Schedule Submission<br/>• Share with Team]
    
    SaveOptions --> Draft[📝 Save as Draft<br/>• Local Storage<br/>• Cloud Backup<br/>• Continue Later<br/>• Share Draft Link]
    
    SaveOptions --> Submit[📤 Submit for Review<br/>• Workflow Initiation<br/>• Notification Triggers<br/>• Status Tracking<br/>• Mobile Confirmation]
    
    Submit --> WorkflowEngine[🔄 Workflow Processing<br/>• PostgreSQL Insert<br/>• Permission Checks<br/>• Stage Assignment<br/>• Notification Queue]
    
    WorkflowEngine --> ReviewStage[👀 Review Stage<br/>• Assign to Reviewers<br/>• Mobile Notifications<br/>• Due Date Tracking<br/>• Priority Levels]
    
    ReviewStage --> ReviewerApp[📱 Reviewer Mobile View<br/>• Document Summary<br/>• Review Checklist<br/>• Comment System<br/>• Action Buttons]
    
    ReviewerApp --> ReviewActions{🎯 Review Decision}
    
    ReviewActions -->|✅ Approve| Approved[✅ Document Approved<br/>• Status Update<br/>• Notifications Sent<br/>• Next Stage/Complete<br/>• Archive Option]
    
    ReviewActions -->|❌ Reject| Rejected[❌ Document Rejected<br/>• Rejection Reasons<br/>• Return to Submitter<br/>• Mobile Notification<br/>• Edit Opportunity]
    
    ReviewActions -->|📝 Request Changes| RequestChanges[📝 Changes Requested<br/>• Specific Comments<br/>• Highlighted Fields<br/>• Return for Editing<br/>• Version Control]
    
    Rejected --> EditDocument[✏️ Edit & Resubmit<br/>• Load Previous Data<br/>• Address Comments<br/>• Track Changes<br/>• Resubmit Option]
    
    RequestChanges --> EditDocument
    EditDocument --> ValidationCheck
    
    Approved --> FinalStage{🏁 Final Stage?}
    FinalStage -->|Yes| Complete[🎉 Process Complete<br/>• Success Notification<br/>• Document Archived<br/>• Analytics Update<br/>• User Dashboard]
    
    FinalStage -->|No| NextStage[➡️ Next Approval Stage<br/>• Advanced Workflow<br/>• Multi-level Approval<br/>• Conditional Routing<br/>• Escalation Rules]
    
    NextStage --> ReviewStage
    
    Complete --> Analytics[📊 Update Analytics<br/>• Performance Metrics<br/>• User Statistics<br/>• Process Optimization<br/>• Mobile Dashboard]

    classDef start fill:#28A745,stroke:#1e7e34,stroke-width:2px,color:#fff
    classDef process fill:#0066CC,stroke:#004499,stroke-width:2px,color:#fff
    classDef decision fill:#FFA500,stroke:#cc8400,stroke-width:2px,color:#fff
    classDef error fill:#dc3545,stroke:#a71d2a,stroke-width:2px,color:#fff
    classDef success fill:#28A745,stroke:#1e7e34,stroke-width:2px,color:#fff
    classDef mobile fill:#6f42c1,stroke:#4c2a85,stroke-width:2px,color:#fff
    
    class Start start
    class SelectBP,FormRender,FillForm,BasicFields,AdvancedFields,SaveOptions,Draft,Submit,WorkflowEngine,ReviewStage,ReviewerApp,EditDocument,NextStage,Analytics process
    class ValidationCheck,ReviewActions,FinalStage decision
    class ShowErrors,Rejected,RequestChanges error
    class Approved,Complete success
    class FormRender,ReviewerApp,EditDocument mobile